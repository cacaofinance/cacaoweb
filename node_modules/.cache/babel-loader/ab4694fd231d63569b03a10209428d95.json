{"ast":null,"code":"var BufferUtil = require('../utils/buffer');\n\nvar GF = require('./galois-field');\n/**\r\n * Multiplies two polynomials inside Galois Field\r\n *\r\n * @param  {Buffer} p1 Polynomial\r\n * @param  {Buffer} p2 Polynomial\r\n * @return {Buffer}    Product of p1 and p2\r\n */\n\n\nexports.mul = function mul(p1, p2) {\n  var coeff = BufferUtil.alloc(p1.length + p2.length - 1);\n\n  for (var i = 0; i < p1.length; i++) {\n    for (var j = 0; j < p2.length; j++) {\n      coeff[i + j] ^= GF.mul(p1[i], p2[j]);\n    }\n  }\n\n  return coeff;\n};\n/**\r\n * Calculate the remainder of polynomials division\r\n *\r\n * @param  {Buffer} divident Polynomial\r\n * @param  {Buffer} divisor  Polynomial\r\n * @return {Buffer}          Remainder\r\n */\n\n\nexports.mod = function mod(divident, divisor) {\n  var result = BufferUtil.from(divident);\n\n  while (result.length - divisor.length >= 0) {\n    var coeff = result[0];\n\n    for (var i = 0; i < divisor.length; i++) {\n      result[i] ^= GF.mul(divisor[i], coeff);\n    } // remove all zeros from buffer head\n\n\n    var offset = 0;\n\n    while (offset < result.length && result[offset] === 0) {\n      offset++;\n    }\n\n    result = result.slice(offset);\n  }\n\n  return result;\n};\n/**\r\n * Generate an irreducible generator polynomial of specified degree\r\n * (used by Reed-Solomon encoder)\r\n *\r\n * @param  {Number} degree Degree of the generator polynomial\r\n * @return {Buffer}        Buffer containing polynomial coefficients\r\n */\n\n\nexports.generateECPolynomial = function generateECPolynomial(degree) {\n  var poly = BufferUtil.from([1]);\n\n  for (var i = 0; i < degree; i++) {\n    poly = exports.mul(poly, [1, GF.exp(i)]);\n  }\n\n  return poly;\n};","map":{"version":3,"sources":["C:/Users/Matias/Downloads/new/svy.finance/node_modules/qrcode/lib/core/polynomial.js"],"names":["BufferUtil","require","GF","exports","mul","p1","p2","coeff","alloc","length","i","j","mod","divident","divisor","result","from","offset","slice","generateECPolynomial","degree","poly","exp"],"mappings":"AAAA,IAAIA,UAAU,GAAGC,OAAO,CAAC,iBAAD,CAAxB;;AACA,IAAIC,EAAE,GAAGD,OAAO,CAAC,gBAAD,CAAhB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAE,OAAO,CAACC,GAAR,GAAc,SAASA,GAAT,CAAcC,EAAd,EAAkBC,EAAlB,EAAsB;AAClC,MAAIC,KAAK,GAAGP,UAAU,CAACQ,KAAX,CAAiBH,EAAE,CAACI,MAAH,GAAYH,EAAE,CAACG,MAAf,GAAwB,CAAzC,CAAZ;;AAEA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,EAAE,CAACI,MAAvB,EAA+BC,CAAC,EAAhC,EAAoC;AAClC,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,EAAE,CAACG,MAAvB,EAA+BE,CAAC,EAAhC,EAAoC;AAClCJ,MAAAA,KAAK,CAACG,CAAC,GAAGC,CAAL,CAAL,IAAgBT,EAAE,CAACE,GAAH,CAAOC,EAAE,CAACK,CAAD,CAAT,EAAcJ,EAAE,CAACK,CAAD,CAAhB,CAAhB;AACD;AACF;;AAED,SAAOJ,KAAP;AACD,CAVD;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAJ,OAAO,CAACS,GAAR,GAAc,SAASA,GAAT,CAAcC,QAAd,EAAwBC,OAAxB,EAAiC;AAC7C,MAAIC,MAAM,GAAGf,UAAU,CAACgB,IAAX,CAAgBH,QAAhB,CAAb;;AAEA,SAAQE,MAAM,CAACN,MAAP,GAAgBK,OAAO,CAACL,MAAzB,IAAoC,CAA3C,EAA8C;AAC5C,QAAIF,KAAK,GAAGQ,MAAM,CAAC,CAAD,CAAlB;;AAEA,SAAK,IAAIL,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGI,OAAO,CAACL,MAA5B,EAAoCC,CAAC,EAArC,EAAyC;AACvCK,MAAAA,MAAM,CAACL,CAAD,CAAN,IAAaR,EAAE,CAACE,GAAH,CAAOU,OAAO,CAACJ,CAAD,CAAd,EAAmBH,KAAnB,CAAb;AACD,KAL2C,CAO5C;;;AACA,QAAIU,MAAM,GAAG,CAAb;;AACA,WAAOA,MAAM,GAAGF,MAAM,CAACN,MAAhB,IAA0BM,MAAM,CAACE,MAAD,CAAN,KAAmB,CAApD;AAAuDA,MAAAA,MAAM;AAA7D;;AACAF,IAAAA,MAAM,GAAGA,MAAM,CAACG,KAAP,CAAaD,MAAb,CAAT;AACD;;AAED,SAAOF,MAAP;AACD,CAjBD;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAZ,OAAO,CAACgB,oBAAR,GAA+B,SAASA,oBAAT,CAA+BC,MAA/B,EAAuC;AACpE,MAAIC,IAAI,GAAGrB,UAAU,CAACgB,IAAX,CAAgB,CAAC,CAAD,CAAhB,CAAX;;AACA,OAAK,IAAIN,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGU,MAApB,EAA4BV,CAAC,EAA7B,EAAiC;AAC/BW,IAAAA,IAAI,GAAGlB,OAAO,CAACC,GAAR,CAAYiB,IAAZ,EAAkB,CAAC,CAAD,EAAInB,EAAE,CAACoB,GAAH,CAAOZ,CAAP,CAAJ,CAAlB,CAAP;AACD;;AAED,SAAOW,IAAP;AACD,CAPD","sourcesContent":["var BufferUtil = require('../utils/buffer')\r\nvar GF = require('./galois-field')\r\n\r\n/**\r\n * Multiplies two polynomials inside Galois Field\r\n *\r\n * @param  {Buffer} p1 Polynomial\r\n * @param  {Buffer} p2 Polynomial\r\n * @return {Buffer}    Product of p1 and p2\r\n */\r\nexports.mul = function mul (p1, p2) {\r\n  var coeff = BufferUtil.alloc(p1.length + p2.length - 1)\r\n\r\n  for (var i = 0; i < p1.length; i++) {\r\n    for (var j = 0; j < p2.length; j++) {\r\n      coeff[i + j] ^= GF.mul(p1[i], p2[j])\r\n    }\r\n  }\r\n\r\n  return coeff\r\n}\r\n\r\n/**\r\n * Calculate the remainder of polynomials division\r\n *\r\n * @param  {Buffer} divident Polynomial\r\n * @param  {Buffer} divisor  Polynomial\r\n * @return {Buffer}          Remainder\r\n */\r\nexports.mod = function mod (divident, divisor) {\r\n  var result = BufferUtil.from(divident)\r\n\r\n  while ((result.length - divisor.length) >= 0) {\r\n    var coeff = result[0]\r\n\r\n    for (var i = 0; i < divisor.length; i++) {\r\n      result[i] ^= GF.mul(divisor[i], coeff)\r\n    }\r\n\r\n    // remove all zeros from buffer head\r\n    var offset = 0\r\n    while (offset < result.length && result[offset] === 0) offset++\r\n    result = result.slice(offset)\r\n  }\r\n\r\n  return result\r\n}\r\n\r\n/**\r\n * Generate an irreducible generator polynomial of specified degree\r\n * (used by Reed-Solomon encoder)\r\n *\r\n * @param  {Number} degree Degree of the generator polynomial\r\n * @return {Buffer}        Buffer containing polynomial coefficients\r\n */\r\nexports.generateECPolynomial = function generateECPolynomial (degree) {\r\n  var poly = BufferUtil.from([1])\r\n  for (var i = 0; i < degree; i++) {\r\n    poly = exports.mul(poly, [1, GF.exp(i)])\r\n  }\r\n\r\n  return poly\r\n}\r\n"]},"metadata":{},"sourceType":"script"}