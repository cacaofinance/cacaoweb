{"ast":null,"code":"import { getWeb3NoAccount } from './web3';\n/**\r\n * Accepts an array of contract method calls and batches them\r\n *\r\n * Example:\r\n *\r\n * [\r\n *  contract.method.balanceOf().call,\r\n *  contract.method.startBlockNumber().call\r\n * ]\r\n */\n\nconst makeBatchRequest = calls => {\n  try {\n    const web3 = getWeb3NoAccount();\n    const batch = new web3.BatchRequest();\n    const promises = calls.map(call => {\n      return new Promise((resolve, reject) => {\n        batch.add(call.request({}, (err, result) => {\n          if (err) {\n            reject(err);\n          } else {\n            resolve(result);\n          }\n        }));\n      });\n    });\n    batch.execute();\n    return Promise.all(promises);\n  } catch {\n    return null;\n  }\n};\n\nexport default makeBatchRequest;","map":{"version":3,"sources":["C:/PROYECTOS/SVY/svy final/Sviolence-frontend/src/utils/makeBatchRequest.ts"],"names":["getWeb3NoAccount","makeBatchRequest","calls","web3","batch","BatchRequest","promises","map","call","Promise","resolve","reject","add","request","err","result","execute","all"],"mappings":"AAAA,SAASA,gBAAT,QAAiC,QAAjC;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAMC,gBAAgB,GAAIC,KAAD,IAAkB;AACzC,MAAI;AACF,UAAMC,IAAI,GAAGH,gBAAgB,EAA7B;AACA,UAAMI,KAAK,GAAG,IAAID,IAAI,CAACE,YAAT,EAAd;AAEA,UAAMC,QAAQ,GAAGJ,KAAK,CAACK,GAAN,CAAWC,IAAD,IAAU;AACnC,aAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCP,QAAAA,KAAK,CAACQ,GAAN,CACEJ,IAAI,CAACK,OAAL,CAAa,EAAb,EAAiB,CAACC,GAAD,EAAMC,MAAN,KAAiB;AAChC,cAAID,GAAJ,EAAS;AACPH,YAAAA,MAAM,CAACG,GAAD,CAAN;AACD,WAFD,MAEO;AACLJ,YAAAA,OAAO,CAACK,MAAD,CAAP;AACD;AACF,SAND,CADF;AASD,OAVM,CAAP;AAWD,KAZgB,CAAjB;AAcAX,IAAAA,KAAK,CAACY,OAAN;AAEA,WAAOP,OAAO,CAACQ,GAAR,CAAYX,QAAZ,CAAP;AACD,GArBD,CAqBE,MAAM;AACN,WAAO,IAAP;AACD;AACF,CAzBD;;AA2BA,eAAeL,gBAAf","sourcesContent":["import { getWeb3NoAccount } from './web3'\r\n\r\n/**\r\n * Accepts an array of contract method calls and batches them\r\n *\r\n * Example:\r\n *\r\n * [\r\n *  contract.method.balanceOf().call,\r\n *  contract.method.startBlockNumber().call\r\n * ]\r\n */\r\nconst makeBatchRequest = (calls: any[]) => {\r\n  try {\r\n    const web3 = getWeb3NoAccount()\r\n    const batch = new web3.BatchRequest()\r\n\r\n    const promises = calls.map((call) => {\r\n      return new Promise((resolve, reject) => {\r\n        batch.add(\r\n          call.request({}, (err, result) => {\r\n            if (err) {\r\n              reject(err)\r\n            } else {\r\n              resolve(result)\r\n            }\r\n          }),\r\n        )\r\n      })\r\n    })\r\n\r\n    batch.execute()\r\n\r\n    return Promise.all(promises)\r\n  } catch {\r\n    return null\r\n  }\r\n}\r\n\r\nexport default makeBatchRequest\r\n"]},"metadata":{},"sourceType":"module"}