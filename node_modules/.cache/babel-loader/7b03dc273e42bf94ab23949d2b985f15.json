{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar url_1 = require(\"./url\");\n\nfunction isWalletConnectSession(object) {\n  return typeof object.bridge !== \"undefined\";\n}\n\nexports.isWalletConnectSession = isWalletConnectSession;\n\nfunction parseWalletConnectUri(str) {\n  var pathStart = str.indexOf(\":\");\n  var pathEnd = str.indexOf(\"?\") !== -1 ? str.indexOf(\"?\") : undefined;\n  var protocol = str.substring(0, pathStart);\n  var path = str.substring(pathStart + 1, pathEnd);\n\n  function parseRequiredParams(path) {\n    var separator = \"@\";\n    var values = path.split(separator);\n    var requiredParams = {\n      handshakeTopic: values[0],\n      version: parseInt(values[1], 10)\n    };\n    return requiredParams;\n  }\n\n  var requiredParams = parseRequiredParams(path);\n  var queryString = typeof pathEnd !== \"undefined\" ? str.substr(pathEnd) : \"\";\n\n  function parseQueryParams(queryString) {\n    var result = url_1.parseQueryString(queryString);\n    var parameters = {\n      key: result.key || \"\",\n      bridge: result.bridge || \"\"\n    };\n    return parameters;\n  }\n\n  var queryParams = parseQueryParams(queryString);\n  var result = Object.assign(Object.assign({\n    protocol: protocol\n  }, requiredParams), queryParams);\n  return result;\n}\n\nexports.parseWalletConnectUri = parseWalletConnectUri;","map":{"version":3,"sources":["../../src/session.ts"],"names":[],"mappings":";;;;;;AAMA,IAAA,KAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AAEA,SAAgB,sBAAhB,CAAuC,MAAvC,EAAkD;AAChD,SAAO,OAAO,MAAM,CAAC,MAAd,KAAyB,WAAhC;AACD;;AAFD,OAAA,CAAA,sBAAA,GAAA,sBAAA;;AAIA,SAAgB,qBAAhB,CAAsC,GAAtC,EAAiD;AAC/C,MAAM,SAAS,GAAW,GAAG,CAAC,OAAJ,CAAY,GAAZ,CAA1B;AAEA,MAAM,OAAO,GAAuB,GAAG,CAAC,OAAJ,CAAY,GAAZ,MAAqB,CAAC,CAAtB,GAA0B,GAAG,CAAC,OAAJ,CAAY,GAAZ,CAA1B,GAA6C,SAAjF;AAEA,MAAM,QAAQ,GAAW,GAAG,CAAC,SAAJ,CAAc,CAAd,EAAiB,SAAjB,CAAzB;AAEA,MAAM,IAAI,GAAW,GAAG,CAAC,SAAJ,CAAc,SAAS,GAAG,CAA1B,EAA6B,OAA7B,CAArB;;AAEA,WAAS,mBAAT,CAA6B,IAA7B,EAAyC;AACvC,QAAM,SAAS,GAAG,GAAlB;AAEA,QAAM,MAAM,GAAG,IAAI,CAAC,KAAL,CAAW,SAAX,CAAf;AAEA,QAAM,cAAc,GAAG;AACrB,MAAA,cAAc,EAAE,MAAM,CAAC,CAAD,CADD;AAErB,MAAA,OAAO,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAD,CAAP,EAAY,EAAZ;AAFI,KAAvB;AAKA,WAAO,cAAP;AACD;;AAED,MAAM,cAAc,GAA0B,mBAAmB,CAAC,IAAD,CAAjE;AAEA,MAAM,WAAW,GAAW,OAAO,OAAP,KAAmB,WAAnB,GAAiC,GAAG,CAAC,MAAJ,CAAW,OAAX,CAAjC,GAAuD,EAAnF;;AAEA,WAAS,gBAAT,CAA0B,WAA1B,EAA6C;AAC3C,QAAM,MAAM,GAAG,KAAA,CAAA,gBAAA,CAAiB,WAAjB,CAAf;AAEA,QAAM,UAAU,GAAuB;AACrC,MAAA,GAAG,EAAE,MAAM,CAAC,GAAP,IAAc,EADkB;AAErC,MAAA,MAAM,EAAE,MAAM,CAAC,MAAP,IAAiB;AAFY,KAAvC;AAKA,WAAO,UAAP;AACD;;AAED,MAAM,WAAW,GAAuB,gBAAgB,CAAC,WAAD,CAAxD;AAEA,MAAM,MAAM,GAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA;AACV,IAAA,QAAQ,EAAR;AADU,GAAA,EAEP,cAFO,CAAA,EAGP,WAHO,CAAZ;AAMA,SAAO,MAAP;AACD;;AA9CD,OAAA,CAAA,qBAAA,GAAA,qBAAA","sourceRoot":"","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst url_1 = require(\"./url\");\r\nfunction isWalletConnectSession(object) {\r\n    return typeof object.bridge !== \"undefined\";\r\n}\r\nexports.isWalletConnectSession = isWalletConnectSession;\r\nfunction parseWalletConnectUri(str) {\r\n    const pathStart = str.indexOf(\":\");\r\n    const pathEnd = str.indexOf(\"?\") !== -1 ? str.indexOf(\"?\") : undefined;\r\n    const protocol = str.substring(0, pathStart);\r\n    const path = str.substring(pathStart + 1, pathEnd);\r\n    function parseRequiredParams(path) {\r\n        const separator = \"@\";\r\n        const values = path.split(separator);\r\n        const requiredParams = {\r\n            handshakeTopic: values[0],\r\n            version: parseInt(values[1], 10),\r\n        };\r\n        return requiredParams;\r\n    }\r\n    const requiredParams = parseRequiredParams(path);\r\n    const queryString = typeof pathEnd !== \"undefined\" ? str.substr(pathEnd) : \"\";\r\n    function parseQueryParams(queryString) {\r\n        const result = url_1.parseQueryString(queryString);\r\n        const parameters = {\r\n            key: result.key || \"\",\r\n            bridge: result.bridge || \"\",\r\n        };\r\n        return parameters;\r\n    }\r\n    const queryParams = parseQueryParams(queryString);\r\n    const result = Object.assign(Object.assign({ protocol }, requiredParams), queryParams);\r\n    return result;\r\n}\r\nexports.parseWalletConnectUri = parseWalletConnectUri;\r\n//# sourceMappingURL=session.js.map"]},"metadata":{},"sourceType":"script"}