{"ast":null,"code":"import _slicedToArray from\"C:/Users/Matias/Downloads/svy final/SPreace-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"C:/Users/Matias/Downloads/svy final/SPreace-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _defineProperty from\"C:/Users/Matias/Downloads/svy final/SPreace-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";var _tags,_templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7;import React,{useState}from'react';import styled from'styled-components';import{getBalanceNumber}from'utils/formatBalance';import useI18n from'hooks/useI18n';import{ChevronDown,ChevronUp}from'react-feather';import{Flex,MetamaskIcon}from'@pancakeswap-libs/uikit';import Balance from'components/Balance';import{CommunityTag,CoreTag,BinanceTag}from'components/Tags';import{useBlock}from'state/hooks';import{PoolCategory}from'config/constants/types';import{registerToken}from'utils/wallet';import{BASE_URL}from'config';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var tags=(_tags={},_defineProperty(_tags,PoolCategory.BINANCE,BinanceTag),_defineProperty(_tags,PoolCategory.CORE,CoreTag),_defineProperty(_tags,PoolCategory.COMMUNITY,CommunityTag),_tags);var StyledFooter=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  border-top: 1px solid \",\";\\n  color: \",\";\\n  padding: 24px;\\n\"])),function(_ref){var theme=_ref.theme;return theme.isDark?'#524B63':'#E9EAEB';},function(_ref2){var isFinished=_ref2.isFinished,theme=_ref2.theme;return theme.colors[isFinished?'textDisabled2':'primary2'];});var StyledDetailsButton=styled.button(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  align-items: center;\\n  background-color: transparent;\\n  border: 0;\\n  color: \",\";\\n  cursor: pointer;\\n  display: inline-flex;\\n  font-size: 16px;\\n  font-weight: 600;\\n  height: 32px;\\n  justify-content: center;\\n  outline: 0;\\n  padding: 0;\\n  &:hover {\\n    opacity: 0.9;\\n  }\\n\\n  & > svg {\\n    margin-left: 4px;\\n  }\\n\"])),function(props){return props.theme.colors.primary;});var Details=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  margin-top: 24px;\\n\"])));var Row=styled(Flex)(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  align-items: center;\\n\"])));var FlexFull=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  flex: 1;\\n\"])));var Label=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  font-size: 14px;\\n\"])));var TokenLink=styled.a(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  font-size: 14px;\\n  text-decoration: none;\\n  color: \",\";\\n  cursor: pointer;\\n\"])),function(props){return props.theme.colors.primary;});var CardFooter=function CardFooter(_ref3){var projectLink=_ref3.projectLink,decimals=_ref3.decimals,tokenAddress=_ref3.tokenAddress,totalStaked=_ref3.totalStaked,tokenName=_ref3.tokenName,tokenDecimals=_ref3.tokenDecimals,isFinished=_ref3.isFinished,startBlock=_ref3.startBlock,endBlock=_ref3.endBlock,poolCategory=_ref3.poolCategory;var _useBlock=useBlock(),currentBlock=_useBlock.blockNumber;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];var TranslateString=useI18n();var Icon=isOpen?ChevronUp:ChevronDown;var handleClick=function handleClick(){return setIsOpen(!isOpen);};var Tag=tags[poolCategory];var blocksUntilStart=Math.max(startBlock-currentBlock,0);var blocksRemaining=Math.max(endBlock-currentBlock,0);var imageSrc=\"\".concat(BASE_URL,\"/images/tokens/\").concat(tokenName.toLowerCase(),\".png\");return/*#__PURE__*/_jsxs(StyledFooter,{isFinished:isFinished,children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(FlexFull,{children:/*#__PURE__*/_jsx(Tag,{})}),/*#__PURE__*/_jsxs(StyledDetailsButton,{onClick:handleClick,children:[isOpen?TranslateString(1066,'Hide'):TranslateString(658,'Details'),\" \",/*#__PURE__*/_jsx(Icon,{})]})]}),isOpen&&/*#__PURE__*/_jsxs(Details,{children:[/*#__PURE__*/_jsxs(Row,{mb:\"4px\",children:[/*#__PURE__*/_jsx(FlexFull,{children:/*#__PURE__*/_jsxs(Label,{children:[/*#__PURE__*/_jsxs(\"span\",{role:\"img\",\"aria-label\":\"syrup\",children:[\"\\uD83E\\uDD5E\",' ']}),TranslateString(408,'Total')]})}),/*#__PURE__*/_jsx(Balance,{fontSize:\"14px\",isDisabled:isFinished,value:getBalanceNumber(totalStaked,decimals)})]}),blocksUntilStart>0&&/*#__PURE__*/_jsxs(Row,{mb:\"4px\",children:[/*#__PURE__*/_jsx(FlexFull,{children:/*#__PURE__*/_jsxs(Label,{children:[TranslateString(410,'Start'),\":\"]})}),/*#__PURE__*/_jsx(Balance,{fontSize:\"14px\",isDisabled:isFinished,value:blocksUntilStart,decimals:0})]}),blocksUntilStart===0&&blocksRemaining>0&&/*#__PURE__*/_jsxs(Row,{mb:\"4px\",children:[/*#__PURE__*/_jsx(FlexFull,{children:/*#__PURE__*/_jsxs(Label,{children:[TranslateString(410,'End'),\":\"]})}),/*#__PURE__*/_jsx(Balance,{fontSize:\"14px\",isDisabled:isFinished,value:blocksRemaining,decimals:0})]}),/*#__PURE__*/_jsxs(Flex,{mb:\"4px\",children:[/*#__PURE__*/_jsxs(TokenLink,{onClick:function onClick(){return registerToken(tokenAddress,tokenName,tokenDecimals,imageSrc);},children:[\"Add \",tokenName,\" to Metamask\"]}),/*#__PURE__*/_jsx(MetamaskIcon,{height:15,width:15,ml:\"4px\"})]}),/*#__PURE__*/_jsx(TokenLink,{href:projectLink,target:\"_blank\",children:TranslateString(412,'View project site')})]})]});};export default/*#__PURE__*/React.memo(CardFooter);","map":{"version":3,"sources":["C:/Users/Matias/Downloads/svy final/SPreace-frontend/src/views/Pools/components/CardFooter.tsx"],"names":["React","useState","styled","getBalanceNumber","useI18n","ChevronDown","ChevronUp","Flex","MetamaskIcon","Balance","CommunityTag","CoreTag","BinanceTag","useBlock","PoolCategory","registerToken","BASE_URL","tags","BINANCE","CORE","COMMUNITY","StyledFooter","div","theme","isDark","isFinished","colors","StyledDetailsButton","button","props","primary","Details","Row","FlexFull","Label","TokenLink","a","CardFooter","projectLink","decimals","tokenAddress","totalStaked","tokenName","tokenDecimals","startBlock","endBlock","poolCategory","currentBlock","blockNumber","isOpen","setIsOpen","TranslateString","Icon","handleClick","Tag","blocksUntilStart","Math","max","blocksRemaining","imageSrc","toLowerCase","memo"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport BigNumber from 'bignumber.js'\r\nimport styled from 'styled-components'\r\nimport { getBalanceNumber } from 'utils/formatBalance'\r\nimport useI18n from 'hooks/useI18n'\r\nimport { ChevronDown, ChevronUp } from 'react-feather'\r\nimport { Flex, MetamaskIcon } from '@pancakeswap-libs/uikit'\r\nimport Balance from 'components/Balance'\r\nimport { CommunityTag, CoreTag, BinanceTag } from 'components/Tags'\r\nimport { useBlock } from 'state/hooks'\r\nimport { PoolCategory } from 'config/constants/types'\r\nimport { registerToken } from 'utils/wallet'\r\nimport { BASE_URL } from 'config'\r\n\r\nconst tags = {\r\n  [PoolCategory.BINANCE]: BinanceTag,\r\n  [PoolCategory.CORE]: CoreTag,\r\n  [PoolCategory.COMMUNITY]: CommunityTag,\r\n}\r\n\r\ninterface Props {\r\n  projectLink: string\r\n  decimals: number\r\n  totalStaked: BigNumber\r\n  tokenName: string\r\n  tokenAddress: string\r\n  tokenDecimals: number\r\n  startBlock: number\r\n  endBlock: number\r\n  isFinished: boolean\r\n  poolCategory: PoolCategory\r\n}\r\n\r\nconst StyledFooter = styled.div<{ isFinished: boolean }>`\r\n  border-top: 1px solid ${({ theme }) => (theme.isDark ? '#524B63' : '#E9EAEB')};\r\n  color: ${({ isFinished, theme }) => theme.colors[isFinished ? 'textDisabled2' : 'primary2']};\r\n  padding: 24px;\r\n`\r\n\r\nconst StyledDetailsButton = styled.button`\r\n  align-items: center;\r\n  background-color: transparent;\r\n  border: 0;\r\n  color: ${(props) => props.theme.colors.primary};\r\n  cursor: pointer;\r\n  display: inline-flex;\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  height: 32px;\r\n  justify-content: center;\r\n  outline: 0;\r\n  padding: 0;\r\n  &:hover {\r\n    opacity: 0.9;\r\n  }\r\n\r\n  & > svg {\r\n    margin-left: 4px;\r\n  }\r\n`\r\n\r\nconst Details = styled.div`\r\n  margin-top: 24px;\r\n`\r\n\r\nconst Row = styled(Flex)`\r\n  align-items: center;\r\n`\r\n\r\nconst FlexFull = styled.div`\r\n  flex: 1;\r\n`\r\nconst Label = styled.div`\r\n  font-size: 14px;\r\n`\r\nconst TokenLink = styled.a`\r\n  font-size: 14px;\r\n  text-decoration: none;\r\n  color: ${(props) => props.theme.colors.primary};\r\n  cursor: pointer;\r\n`\r\n\r\nconst CardFooter: React.FC<Props> = ({\r\n  projectLink,\r\n  decimals,\r\n  tokenAddress,\r\n  totalStaked,\r\n  tokenName,\r\n  tokenDecimals,\r\n  isFinished,\r\n  startBlock,\r\n  endBlock,\r\n  poolCategory,\r\n}) => {\r\n  const { blockNumber: currentBlock } = useBlock()\r\n  const [isOpen, setIsOpen] = useState(false)\r\n  const TranslateString = useI18n()\r\n  const Icon = isOpen ? ChevronUp : ChevronDown\r\n\r\n  const handleClick = () => setIsOpen(!isOpen)\r\n  const Tag = tags[poolCategory]\r\n\r\n  const blocksUntilStart = Math.max(startBlock - currentBlock, 0)\r\n  const blocksRemaining = Math.max(endBlock - currentBlock, 0)\r\n\r\n  const imageSrc = `${BASE_URL}/images/tokens/${tokenName.toLowerCase()}.png`\r\n\r\n  return (\r\n    <StyledFooter isFinished={isFinished}>\r\n      <Row>\r\n        <FlexFull>\r\n          <Tag />\r\n        </FlexFull>\r\n        <StyledDetailsButton onClick={handleClick}>\r\n          {isOpen ? TranslateString(1066, 'Hide') : TranslateString(658, 'Details')} <Icon />\r\n        </StyledDetailsButton>\r\n      </Row>\r\n      {isOpen && (\r\n        <Details>\r\n          <Row mb=\"4px\">\r\n            <FlexFull>\r\n              <Label>\r\n                <span role=\"img\" aria-label=\"syrup\">\r\n                  🥞{' '}\r\n                </span>\r\n                {TranslateString(408, 'Total')}\r\n              </Label>\r\n            </FlexFull>\r\n            <Balance fontSize=\"14px\" isDisabled={isFinished} value={getBalanceNumber(totalStaked, decimals)} />\r\n          </Row>\r\n          {blocksUntilStart > 0 && (\r\n            <Row mb=\"4px\">\r\n              <FlexFull>\r\n                <Label>{TranslateString(410, 'Start')}:</Label>\r\n              </FlexFull>\r\n              <Balance fontSize=\"14px\" isDisabled={isFinished} value={blocksUntilStart} decimals={0} />\r\n            </Row>\r\n          )}\r\n          {blocksUntilStart === 0 && blocksRemaining > 0 && (\r\n            <Row mb=\"4px\">\r\n              <FlexFull>\r\n                <Label>{TranslateString(410, 'End')}:</Label>\r\n              </FlexFull>\r\n              <Balance fontSize=\"14px\" isDisabled={isFinished} value={blocksRemaining} decimals={0} />\r\n            </Row>\r\n          )}\r\n          <Flex mb=\"4px\">\r\n            <TokenLink onClick={() => registerToken(tokenAddress, tokenName, tokenDecimals, imageSrc)}>\r\n              Add {tokenName} to Metamask\r\n            </TokenLink>\r\n            <MetamaskIcon height={15} width={15} ml=\"4px\" />\r\n          </Flex>\r\n          <TokenLink href={projectLink} target=\"_blank\">\r\n            {TranslateString(412, 'View project site')}\r\n          </TokenLink>\r\n        </Details>\r\n      )}\r\n    </StyledFooter>\r\n  )\r\n}\r\n\r\nexport default React.memo(CardFooter)\r\n"]},"metadata":{},"sourceType":"module"}