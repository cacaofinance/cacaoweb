{"ast":null,"code":"import _objectSpread from\"C:/Users/Matias/Downloads/svy final/SPreace-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:/Users/Matias/Downloads/svy final/SPreace-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Matias/Downloads/svy final/SPreace-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/Matias/Downloads/svy final/SPreace-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Matias/Downloads/svy final/SPreace-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Suspense}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";var SuspenseWithChunkError=/*#__PURE__*/function(_React$Component){_inherits(SuspenseWithChunkError,_React$Component);var _super=_createSuper(SuspenseWithChunkError);function SuspenseWithChunkError(props){var _this;_classCallCheck(this,SuspenseWithChunkError);_this=_super.call(this,props);_this.state={hasError:false};return _this;}_createClass(SuspenseWithChunkError,[{key:\"componentDidCatch\",value:function componentDidCatch(error){var _window$history$state;var isJsChunkLoadError=error.name==='ChunkLoadError';var isCssChunkLoadError=error.code==='CSS_CHUNK_LOAD_FAILED';var isChunkLoadError=isJsChunkLoadError||isCssChunkLoadError;// Save a flag on the window object indicating that we have already had a chunk error.\n// This prevents infinite reloads\nvar isRecoveringFromChunkError=!!((_window$history$state=window.history.state)===null||_window$history$state===void 0?void 0:_window$history$state.isRecoveringFromChunkError);// If was a chunk load error, refresh the page\nif(isChunkLoadError&&!isRecoveringFromChunkError){var nextState=_objectSpread(_objectSpread({},window.history.state),{},{isRecoveringFromChunkError:true});window.history.replaceState(nextState,'');window.location.reload();return;}throw error;}},{key:\"render\",value:function render(){var hasError=this.state.hasError;var fallback=this.props.fallback;if(hasError){return fallback;}return/*#__PURE__*/_jsx(Suspense,_objectSpread({},this.props));}}],[{key:\"getDerivedStateFromError\",value:function getDerivedStateFromError(){// Update state so the next render will show the fallback UI.\nreturn{hasError:true};}}]);return SuspenseWithChunkError;}(React.Component);export default SuspenseWithChunkError;","map":{"version":3,"sources":["C:/Users/Matias/Downloads/svy final/SPreace-frontend/src/components/SuspenseWithChunkError/index.tsx"],"names":["React","Suspense","SuspenseWithChunkError","props","state","hasError","error","isJsChunkLoadError","name","isCssChunkLoadError","code","isChunkLoadError","isRecoveringFromChunkError","window","history","nextState","replaceState","location","reload","fallback","Component"],"mappings":"s0BAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAA+C,OAA/C,C,8CAMMC,CAAAA,sB,4IACJ,gCAAYC,KAAZ,CAAmB,wDACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CAAEC,QAAQ,CAAE,KAAZ,CAAb,CAFiB,aAGlB,C,oEAOD,2BAAkBC,KAAlB,CAAyB,2BACvB,GAAMC,CAAAA,kBAAkB,CAAGD,KAAK,CAACE,IAAN,GAAe,gBAA1C,CACA,GAAMC,CAAAA,mBAAmB,CAAGH,KAAK,CAACI,IAAN,GAAe,uBAA3C,CACA,GAAMC,CAAAA,gBAAgB,CAAGJ,kBAAkB,EAAIE,mBAA/C,CAEA;AACA;AACA,GAAMG,CAAAA,0BAA0B,CAAG,CAAC,yBAACC,MAAM,CAACC,OAAP,CAAeV,KAAhB,gDAAC,sBAAsBQ,0BAAvB,CAApC,CAEA;AACA,GAAID,gBAAgB,EAAI,CAACC,0BAAzB,CAAqD,CACnD,GAAMG,CAAAA,SAAS,gCAAQF,MAAM,CAACC,OAAP,CAAeV,KAAvB,MAA8BQ,0BAA0B,CAAE,IAA1D,EAAf,CACAC,MAAM,CAACC,OAAP,CAAeE,YAAf,CAA4BD,SAA5B,CAAuC,EAAvC,EACAF,MAAM,CAACI,QAAP,CAAgBC,MAAhB,GACA,OACD,CAED,KAAMZ,CAAAA,KAAN,CACD,C,sBAED,iBAAS,IACCD,CAAAA,QADD,CACc,KAAKD,KADnB,CACCC,QADD,IAECc,CAAAA,QAFD,CAEc,KAAKhB,KAFnB,CAECgB,QAFD,CAIP,GAAId,QAAJ,CAAc,CACZ,MAAOc,CAAAA,QAAP,CACD,CAED,mBAAO,KAAC,QAAD,kBAAc,KAAKhB,KAAnB,EAAP,CACD,C,0CAlCD,mCAAkC,CAChC;AACA,MAAO,CAAEE,QAAQ,CAAE,IAAZ,CAAP,CACD,C,oCATkCL,KAAK,CAACoB,S,EA2C3C,cAAelB,CAAAA,sBAAf","sourcesContent":["import React, { Suspense, SuspenseProps } from 'react'\r\n\r\ninterface State {\r\n  hasError: boolean\r\n}\r\n\r\nclass SuspenseWithChunkError extends React.Component<SuspenseProps, State> {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = { hasError: false }\r\n  }\r\n\r\n  static getDerivedStateFromError() {\r\n    // Update state so the next render will show the fallback UI.\r\n    return { hasError: true }\r\n  }\r\n\r\n  componentDidCatch(error) {\r\n    const isJsChunkLoadError = error.name === 'ChunkLoadError'\r\n    const isCssChunkLoadError = error.code === 'CSS_CHUNK_LOAD_FAILED'\r\n    const isChunkLoadError = isJsChunkLoadError || isCssChunkLoadError\r\n\r\n    // Save a flag on the window object indicating that we have already had a chunk error.\r\n    // This prevents infinite reloads\r\n    const isRecoveringFromChunkError = !!window.history.state?.isRecoveringFromChunkError\r\n\r\n    // If was a chunk load error, refresh the page\r\n    if (isChunkLoadError && !isRecoveringFromChunkError) {\r\n      const nextState = { ...window.history.state, isRecoveringFromChunkError: true }\r\n      window.history.replaceState(nextState, '')\r\n      window.location.reload()\r\n      return\r\n    }\r\n\r\n    throw error\r\n  }\r\n\r\n  render() {\r\n    const { hasError } = this.state\r\n    const { fallback } = this.props\r\n\r\n    if (hasError) {\r\n      return fallback\r\n    }\r\n\r\n    return <Suspense {...this.props} />\r\n  }\r\n}\r\n\r\nexport default SuspenseWithChunkError\r\n"]},"metadata":{},"sourceType":"module"}