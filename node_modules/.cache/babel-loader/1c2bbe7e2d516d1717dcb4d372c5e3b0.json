{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.fallbackRipemd160 = exports.fallbackSha512 = exports.fallbackSha256 = exports.fallbackHmacSha512Sign = exports.fallbackHmacSha256Sign = exports.fallbackAesDecrypt = exports.fallbackAesEncrypt = void 0;\n\nvar aes_js_1 = __importDefault(require(\"aes-js\"));\n\nvar hash = __importStar(require(\"hash.js\"));\n\nvar enc_utils_1 = require(\"enc-utils\");\n\nvar constants_1 = require(\"../constants\");\n\nvar index_1 = require(\"../index\");\n\nfunction fallbackAesEncrypt(iv, key, data) {\n  var aesCbc = new aes_js_1.default.ModeOfOperation.cbc(key, iv);\n  var padded = index_1.pkcs7.pad(data);\n  var encryptedBytes = aesCbc.encrypt(padded);\n  return new Uint8Array(encryptedBytes);\n}\n\nexports.fallbackAesEncrypt = fallbackAesEncrypt;\n\nfunction fallbackAesDecrypt(iv, key, data) {\n  var aesCbc = new aes_js_1.default.ModeOfOperation.cbc(key, iv);\n  var encryptedBytes = aesCbc.decrypt(data);\n  var padded = new Uint8Array(encryptedBytes);\n  var result = index_1.pkcs7.unpad(padded);\n  return result;\n}\n\nexports.fallbackAesDecrypt = fallbackAesDecrypt;\n\nfunction fallbackHmacSha256Sign(key, data) {\n  var result = hash.hmac(hash[constants_1.SHA256_NODE_ALGO], key).update(data).digest(constants_1.HEX_ENC);\n  return enc_utils_1.hexToArray(result);\n}\n\nexports.fallbackHmacSha256Sign = fallbackHmacSha256Sign;\n\nfunction fallbackHmacSha512Sign(key, data) {\n  var result = hash.hmac(hash[constants_1.SHA512_NODE_ALGO], key).update(data).digest(constants_1.HEX_ENC);\n  return enc_utils_1.hexToArray(result);\n}\n\nexports.fallbackHmacSha512Sign = fallbackHmacSha512Sign;\n\nfunction fallbackSha256(msg) {\n  var result = hash.sha256().update(msg).digest(constants_1.HEX_ENC);\n  return enc_utils_1.hexToArray(result);\n}\n\nexports.fallbackSha256 = fallbackSha256;\n\nfunction fallbackSha512(msg) {\n  var result = hash.sha512().update(msg).digest(constants_1.HEX_ENC);\n  return enc_utils_1.hexToArray(result);\n}\n\nexports.fallbackSha512 = fallbackSha512;\n\nfunction fallbackRipemd160(msg) {\n  var result = hash.ripemd160().update(msg).digest(constants_1.HEX_ENC);\n  return enc_utils_1.hexToArray(result);\n}\n\nexports.fallbackRipemd160 = fallbackRipemd160;","map":{"version":3,"sources":["../../../../src/helpers/env/fallback.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.fallbackRipemd160 = exports.fallbackSha512 = exports.fallbackSha256 = exports.fallbackHmacSha512Sign = exports.fallbackHmacSha256Sign = exports.fallbackAesDecrypt = exports.fallbackAesEncrypt = void 0;\r\nconst aes_js_1 = __importDefault(require(\"aes-js\"));\r\nconst hash = __importStar(require(\"hash.js\"));\r\nconst enc_utils_1 = require(\"enc-utils\");\r\nconst constants_1 = require(\"../constants\");\r\nconst index_1 = require(\"../index\");\r\nfunction fallbackAesEncrypt(iv, key, data) {\r\n    const aesCbc = new aes_js_1.default.ModeOfOperation.cbc(key, iv);\r\n    const padded = index_1.pkcs7.pad(data);\r\n    const encryptedBytes = aesCbc.encrypt(padded);\r\n    return new Uint8Array(encryptedBytes);\r\n}\r\nexports.fallbackAesEncrypt = fallbackAesEncrypt;\r\nfunction fallbackAesDecrypt(iv, key, data) {\r\n    const aesCbc = new aes_js_1.default.ModeOfOperation.cbc(key, iv);\r\n    const encryptedBytes = aesCbc.decrypt(data);\r\n    const padded = new Uint8Array(encryptedBytes);\r\n    const result = index_1.pkcs7.unpad(padded);\r\n    return result;\r\n}\r\nexports.fallbackAesDecrypt = fallbackAesDecrypt;\r\nfunction fallbackHmacSha256Sign(key, data) {\r\n    const result = hash\r\n        .hmac(hash[constants_1.SHA256_NODE_ALGO], key)\r\n        .update(data)\r\n        .digest(constants_1.HEX_ENC);\r\n    return enc_utils_1.hexToArray(result);\r\n}\r\nexports.fallbackHmacSha256Sign = fallbackHmacSha256Sign;\r\nfunction fallbackHmacSha512Sign(key, data) {\r\n    const result = hash\r\n        .hmac(hash[constants_1.SHA512_NODE_ALGO], key)\r\n        .update(data)\r\n        .digest(constants_1.HEX_ENC);\r\n    return enc_utils_1.hexToArray(result);\r\n}\r\nexports.fallbackHmacSha512Sign = fallbackHmacSha512Sign;\r\nfunction fallbackSha256(msg) {\r\n    const result = hash\r\n        .sha256()\r\n        .update(msg)\r\n        .digest(constants_1.HEX_ENC);\r\n    return enc_utils_1.hexToArray(result);\r\n}\r\nexports.fallbackSha256 = fallbackSha256;\r\nfunction fallbackSha512(msg) {\r\n    const result = hash\r\n        .sha512()\r\n        .update(msg)\r\n        .digest(constants_1.HEX_ENC);\r\n    return enc_utils_1.hexToArray(result);\r\n}\r\nexports.fallbackSha512 = fallbackSha512;\r\nfunction fallbackRipemd160(msg) {\r\n    const result = hash\r\n        .ripemd160()\r\n        .update(msg)\r\n        .digest(constants_1.HEX_ENC);\r\n    return enc_utils_1.hexToArray(result);\r\n}\r\nexports.fallbackRipemd160 = fallbackRipemd160;\r\n//# sourceMappingURL=fallback.js.map"]},"metadata":{},"sourceType":"script"}