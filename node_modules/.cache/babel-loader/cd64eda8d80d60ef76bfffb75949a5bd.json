{"ast":null,"code":"import _slicedToArray from\"C:/Users/Matias/Downloads/svy final/SPreace-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState,useRef}from'react';import Web3 from'web3';import{useWeb3React}from'@web3-react/core';import{getWeb3NoAccount}from'utils/web3';/**\r\n * Provides a web3 instance using the provider provided by useWallet\r\n * with a fallback of an httpProver\r\n * Recreate web3 instance only if the provider change\r\n */var useWeb3=function useWeb3(){var _useWeb3React=useWeb3React(),library=_useWeb3React.library;var refEth=useRef(library);var _useState=useState(library?new Web3(library):getWeb3NoAccount()),_useState2=_slicedToArray(_useState,2),web3=_useState2[0],setweb3=_useState2[1];useEffect(function(){if(library!==refEth.current){setweb3(library?new Web3(library):getWeb3NoAccount());refEth.current=library;}},[library]);return web3;};export default useWeb3;","map":{"version":3,"sources":["C:/Users/Matias/Downloads/svy final/SPreace-frontend/src/hooks/useWeb3.ts"],"names":["useEffect","useState","useRef","Web3","useWeb3React","getWeb3NoAccount","useWeb3","library","refEth","web3","setweb3","current"],"mappings":"2KAAA,OAASA,SAAT,CAAoBC,QAApB,CAA8BC,MAA9B,KAA4C,OAA5C,CACA,MAAOC,CAAAA,IAAP,KAAiB,MAAjB,CACA,OAASC,YAAT,KAA6B,kBAA7B,CACA,OAASC,gBAAT,KAAiC,YAAjC,CAEA;AACA;AACA;AACA;AACA,GACA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,mBACAF,YAAY,EADZ,CACZG,OADY,eACZA,OADY,CAEpB,GAAMC,CAAAA,MAAM,CAAGN,MAAM,CAACK,OAAD,CAArB,CAFoB,cAGIN,QAAQ,CAACM,OAAO,CAAG,GAAIJ,CAAAA,IAAJ,CAASI,OAAT,CAAH,CAAuBF,gBAAgB,EAA/C,CAHZ,wCAGbI,IAHa,eAGPC,OAHO,eAKpBV,SAAS,CAAC,UAAM,CACd,GAAIO,OAAO,GAAKC,MAAM,CAACG,OAAvB,CAAgC,CAC9BD,OAAO,CAACH,OAAO,CAAG,GAAIJ,CAAAA,IAAJ,CAASI,OAAT,CAAH,CAAuBF,gBAAgB,EAA/C,CAAP,CACAG,MAAM,CAACG,OAAP,CAAiBJ,OAAjB,CACD,CACF,CALQ,CAKN,CAACA,OAAD,CALM,CAAT,CAOA,MAAOE,CAAAA,IAAP,CACD,CAbD,CAeA,cAAeH,CAAAA,OAAf","sourcesContent":["import { useEffect, useState, useRef } from 'react'\r\nimport Web3 from 'web3'\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { getWeb3NoAccount } from 'utils/web3'\r\n\r\n/**\r\n * Provides a web3 instance using the provider provided by useWallet\r\n * with a fallback of an httpProver\r\n * Recreate web3 instance only if the provider change\r\n */\r\nconst useWeb3 = () => {\r\n  const { library } = useWeb3React()\r\n  const refEth = useRef(library)\r\n  const [web3, setweb3] = useState(library ? new Web3(library) : getWeb3NoAccount())\r\n\r\n  useEffect(() => {\r\n    if (library !== refEth.current) {\r\n      setweb3(library ? new Web3(library) : getWeb3NoAccount())\r\n      refEth.current = library\r\n    }\r\n  }, [library])\r\n\r\n  return web3\r\n}\r\n\r\nexport default useWeb3\r\n"]},"metadata":{},"sourceType":"module"}